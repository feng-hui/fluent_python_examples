#### 9、vim程序编辑器

##### 9.1、vi与vim

（1）为什么要学习vim?

* 所有的Unix Like系统都会内建vi文本编辑器，其他的文本编辑器不一定存在；
* 有很多软件的编辑接口都会主动调用vi（例如：crontab、visudo、edquota等）；
* vim具有程序编辑的能力，可以主动地以字体颜色辨别语法地正确性，方便程序设计；
* 程序简单，编辑相当快速。

**可以将vim视为vi的进阶版本。**

##### 9.2、vi的使用

（1）vi的三种模式

* 一般指令模式（command mode）：以vi打开一个文件称为一般指令模式（默认模式），可以使用[上下左右]按键来移动光标、可以删除字符或删除整列、或者使用复制粘贴来处理文件。
* 编辑模式（insert mode）：可以使用[i，I，o，O，a，A，r，R]进入编辑模式。
* 指令列命令模式（command-line mode）：在一般模式下，输入[:|/|?]三个中任何一个那妞，可以搜索、保存、替换、退出、显示或取消行号等相关操作。

（2）vi使用快捷键说明（只统计常用的，其他请自行google或参考鸟哥Linux私房菜第9章内容）

A、一般指令模式下

快捷键 | 说明
-- | --
/ | 1、快捷移动光标的方法
h / (向左箭头) | 光标向左移动一个字符
j / (向下箭头) | 光标向下移动一个字符
k / (向上箭头) | 光标向上移动一个字符
l / (向右箭头) | 光标向右移动一个字符
crtl + f | 屏幕【向下】移动一页，相当于【Page Down】按键
crtl + b | 屏幕【向上】移动一页，相当于【Page Up】按键
0或功能键【Home】 | 移动到光标所在行的最前面字符处
$或功能键【End】 | 移动到光标所在行的最后面字符处
G | 移动到这个文件的最后一列
gg或1G | 移动到这个文件的第一列
n + 回车 | n表示数字，例如：按下3再回车，表示向下移动3行
/ | 2、搜索与替换
/word | 向下搜索名称为word的字符串
?word | 向上搜索名称为word的字符串
n | 重复前一个搜索动作，常用于搜索完跳到下一个或上一个搜索到的字符串位置
N | 同n相反，例如：向下搜索，使用N之后则为向上进行搜索
:n1,n2s/word1/word2/g | n1、n2均为数字，表示在n1和n2之间进行搜索word1这个字符串并替换为word2字符串
:1,$s/word1/word2/g | 全文搜索并替换
:1,$s/word1/word2/gc | 全文搜索并替换，替换之前需要确认（确认根据提示输入y即可）
/ | 3、删除、复制与粘贴
x / X | x（相当于[del]功能键）向后删除，X向前删除
dd | 删除整行
ndd | n表示数字，删除光标所在行下的n行
yy | 复制光标所在行
nyy | n表示数字，复制光标所在行后的n行
p/P | p将复制的数据粘贴在光标下一行上，P则为粘贴在上一行。
u | 撤销上一个动作

B、从一般指令模式切换为编辑模式

快捷键 | 说明
-- | --
i,I | 进入插入模式（Insert mode）