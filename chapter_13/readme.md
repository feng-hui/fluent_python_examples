## chapter 13 正确重载运算符

**主要内容**

- [x] Python如何处理中缀运算符中不同类型的操作数

- [x] 使用鸭子类型或显示类型检查处理不同类型的操作数

- [x] 中缀运算符如何表达自己无法处理操作数

- [x] 众多比较运算符（如 ==、>、<=，等等）的特殊行为

- [x] 增量赋值运算符（如 +=）的默认处理方式和重载方式

#### 1、运算符重载基础

* 不能重载内置类型的运算符
* 不能新建运算符，只能重载现有的
* 某些运算符不能重载——is、and、or和not（不过位运算符&、|和~可以）

#### 2、一元运算符

* -（`__ne__`） 一元取负运算符。如果x是-2，那么-x == 2；
* \+（`__pos__`）一元取正运算符。通常x == +x，但也有一些例外。
* \~（`__invert__`）对整数按位取反，定义为~x == -(x+1)，如果x是2，那么~x==-3。【概念有些模糊,没整明白原因】

**【注意】：**支持一元运算符，只需要实现相应的特殊方法。不过要遵守运算符的一个基本规则：始终返回一个新对象。也就是说一元运算符中的参数只有一个self，不能修改self，而是要创建并返回合适类型的新实例。
