## 符合Python风格的对象

**主要内容**

- [x] 支持用于生成对象其他表现形式的内置函数（如repr()、bytes()等）；

- [x] 使用一个类方法实现备选构造方法；

- [x] 扩展内置的format()函数和str().format()方法使用的格式化微语言；

- [x] 实现只读属性；

- [x] 把对象变成可散列的，以便在集合及作为dict的键使用；

- [x] 利用__slots__节省内存。

1、对象表现形式

* repr() 以便于开发者理解的方式返回对象的字符串表现形式。

* str()  以便于用户理解的方式返回对象的字符串表现形式。

2、classmethod和staticmethod

* classmethod最常见的用途是定义备选构造方法；

* staticmethod与普通函数没有区别，可以当作普通函数来看。

3、格式化显示

主要涉及到是内置format()与str.format(),需要了解与学习[格式规范微语言](https://docs.python.org/3/library/string.html#formatspec)

4、Python的私有属性和“受保护的”属性

一般来讲，遵守使用一个下划线标记对象的私有属性。

5、使用`__slots__`类属性节省空间

默认情况下，Python在各个实例中名为`__dict__`的字典里存储实例属性。为了使用底层的散列表提升访问速度，字典会消耗大量内存。如果要处理数百万个属性不多的实例，通过`__slots__`属性能节省大量内存，方法是让解释器在元组中存储实例属性而不是用字典。

使用`__slots__`需要注意的问题

* 每个子类都要定义`__slots__`属性，因为解释器会忽略继承的`__slots__`属性；

* 实例只能拥有`__slots__`中列出的属性，除非吧`__dict__`加入`__slots__`中（这样做就失去了节省内存的功效。）；

* 如果不把`__weakref__`加入`__slots__`，实例就不能作为弱引用的目标。