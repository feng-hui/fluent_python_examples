## chapter 10 序列的修改、散列和切片

**主要内容**

- [x] 基本的序列协议--`__len__`和`__getitem__`

- [x] 正确表述拥有很多元素的实例

- [x] 适当的切片支持，用于生成新的Vector实例

- [x] 综合各个元素的值计算散列值

- [x] 自定义的格式语言扩展

1、如果要实现一个类似序列的功能的类，需要实现序列协议`__len__`和`__getitem__`，只需要在对应的类中实现对应的实例方法即可。

1、使用`reprlib.repr`正确表述很多元素的实例，可以截断拥有很多元素的实例，以省略号代替，具体总结稍后。

2、协议和鸭子类型

* 协议：在面向对象编程中，协议是非正式的接口，只在文档中定义，在代码中不定义。协议是非正式的，没有强制力。因此如果知道类的具体使用场景，通常只需要实现一个协议的部分。例如为了支持迭代，只需要实现`__getitem__`方法。

* 鸭子类型

3、切片的原理

`S.indices(len) -> (start, stop, stride)`

* S表示类似`slice(None, 10, 2)`;

* 给定长度len的序列，计算S的扩展切片的起始（start）、结尾（stop）以及步幅(stride);

* 例如：`slice(None, 10, 2) -> (0, 5, 2)`,则`'ABCDE'.slice[:10:2] == slice(0:5:2)`

